<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Campeonato</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-firestore-compat.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-6">Sistema de Campeonato üèÜ</h1>

        <div class="flex flex-wrap justify-center gap-2 mb-6">
            <button id="inscricaoBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">
                üìù Inscri√ß√µes
            </button>
            <button id="publicoBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                üë• Lista P√∫blica
            </button>
            <button id="adminBtn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg">
                ‚öôÔ∏è Admin
            </button>
            <button id="acompanharBtn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg">
                üìä Acompanhar
            </button>
        </div>

        <!-- se√ß√µes (sem mudan√ßas) -->
        <!-- ... [inscri√ß√µes, p√∫blico, acompanhar, admin, reset iguais ao seu c√≥digo anterior] ... -->

        <section id="adminSection" class="bg-white p-6 rounded-lg shadow mb-6 hidden">
            <h2 class="text-xl font-bold mb-4">√Årea Administrativa</h2>
        
            <div class="flex flex-wrap gap-2 mb-4">
                <button id="configTab" class="bg-gray-600 text-white px-3 py-1 rounded">Config</button>
                <button id="fasesTab" class="bg-gray-400 text-white px-3 py-1 rounded">Fases</button>
                <button id="placaresTab" class="bg-gray-400 text-white px-3 py-1 rounded">Placares</button>
                <button id="resetTab" class="bg-gray-400 text-white px-3 py-1 rounded">Reset</button>
            </div>

            <!-- ... resto igual ... -->

            <div id="placaresDiv" class="hidden space-y-4">
                <select id="modalidadePlacar" class="w-full p-2 border rounded mb-4">
                    <option value="">Selecione modalidade para ver jogos</option>
                </select>
                <div id="jogosPendentes"></div>
            </div>

            <!-- ... resto igual ... -->
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Firebase config
            const firebaseConfig = {
                apiKey: "AIzaSyBo8G3ZcWk4EepN0cHdVBtXc7tGOfcw-yg",
                authDomain: "inscricaosinuca.firebaseapp.com",
                projectId: "inscricaosinuca",
                storageBucket: "inscricaosinuca.firebasestorage.app",
                messagingSenderId: "338241576305",
                appId: "1:338241576305:web:288b6124384c6be4f76ad0",
                measurementId: "G-PEDG30FS2R"
            };
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();

            // ... [todo o c√≥digo igual ao original que voc√™ enviou] ...

            // üîπ Corre√ß√£o na fun√ß√£o mostrarJogosPendentes
            async function mostrarJogosPendentes(modalidade) {
                const div = document.getElementById('jogosPendentes');
                div.innerHTML = '';
                
                if (!modalidade) {
                    div.innerHTML = '<p class="text-gray-500">Nenhum jogo encontrado.</p>';
                    return;
                }

                try {
                    const jogos = await carregarJogos();
                    if (!jogos[modalidade]) {
                        div.innerHTML = '<p class="text-gray-500">Nenhum jogo encontrado.</p>';
                        return;
                    }

                    const fases = Object.keys(jogos[modalidade])
                        .map(f => parseInt(f))
                        .filter(n => !isNaN(n));

                    if(fases.length === 0) {
                        div.innerHTML = '<p class="text-gray-500">Nenhuma fase criada para esta modalidade.</p>';
                        return;
                    }

                    const ultimaFase = Math.max(...fases);
                    const jogosUltimaFase = jogos[modalidade][ultimaFase.toString()] || [];
                    const pendentes = jogosUltimaFase.filter(j => !j.finalizado);

                    if (pendentes.length === 0) {
                        div.innerHTML = '<p class="text-green-600">Todos os jogos da fase atual foram finalizados!</p>';
                        return;
                    }

                    pendentes.forEach(jogo => {
                        const jogoDiv = document.createElement('div');
                        jogoDiv.className = 'p-4 border rounded bg-gray-50 mb-3';
                        jogoDiv.innerHTML = `
                            <h4 class="font-semibold mb-3">${jogo.jogador1.nome} vs ${jogo.jogador2.nome}</h4>
                            <div class="grid grid-cols-2 gap-4 mb-3">
                                <div>
                                    <label class="block text-sm font-medium">${jogo.jogador1.nome}</label>
                                    <input type="number" min="0" max="2" value="${jogo.placar1}" class="w-full p-2 border rounded" data-jogador="1" data-jogo="${jogo.id}">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium">${jogo.jogador2.nome}</label>
                                    <input type="number" min="0" max="2" value="${jogo.placar2}" class="w-full p-2 border rounded" data-jogador="2" data-jogo="${jogo.id}">
                                </div>
                            </div>
                            <button onclick="salvarPlacar('${modalidade}', '${jogo.id}', ${ultimaFase})" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
                                Salvar Placar
                            </button>
                        `;
                        div.appendChild(jogoDiv);
                    });
                } catch (error) {
                    console.error('Erro ao mostrar jogos pendentes:', error);
                }
            }

            // ... [resto do c√≥digo igual ao seu original] ...

            // Inicializa√ß√£o
            (async () => {
                await carregarDados();
                showSection('inscricao');
            })();
        });
    </script>
</body>
</html>
